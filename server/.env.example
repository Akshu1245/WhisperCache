# ============================================================================
# WhisperCache Server Configuration
# ============================================================================
# Copy this file to .env and fill in your values

# ============================================================================
# ZK Proof Mode
# ============================================================================
# 'real'   - Use real snarkjs Groth16 proofs (slower, 2-10 seconds per proof)
# 'instant' - Use pre-computed simulated proofs (fast, for demos)
ZK_MODE=real

# ============================================================================
# Server Configuration
# ============================================================================
NODE_ENV=development
PORT=4000
HOST=localhost

# ============================================================================
# Security
# ============================================================================
# Secret key for encryption (generate with: openssl rand -hex 32)
ENCRYPTION_KEY=your-32-byte-hex-key-here

# JWT secret (if using JWT auth)
JWT_SECRET=your-jwt-secret-here

# CORS origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# ============================================================================
# Blockchain Configuration
# ============================================================================
# Mode: 'simulation' or 'real'
BLOCKCHAIN_MODE=simulation

# Anchor Mode: 'sqlite' (local only) or 'ipfs' (with IPFS CID generation)
ANCHOR_MODE=sqlite

# IPFS Configuration (only needed if ANCHOR_MODE=ipfs)
IPFS_API_URL=http://localhost:5001
IPFS_GATEWAY_URL=https://ipfs.io/ipfs

# Midnight Network Configuration
MIDNIGHT_NETWORK=devnet
MIDNIGHT_NODE_URL=https://devnet.midnight.network
MIDNIGHT_API_KEY=
MIDNIGHT_WALLET_ADDRESS=
MIDNIGHT_CONTRACT_ADDRESS=
MIDNIGHT_SIMULATION=true

# Cardano Network Configuration
CARDANO_NETWORK=preview
CARDANO_NODE_URL=
# Get a free API key at https://blockfrost.io/
BLOCKFROST_API_KEY=
BLOCKFROST_NETWORK=preview
CARDANO_WALLET_ADDRESS=
CARDANO_ANCHOR_WALLET_ADDRESS=
CARDANO_SIMULATION=true

# Pinata IPFS Configuration (cloud pinning service - https://pinata.cloud)
PINATA_API_KEY=
PINATA_SECRET_KEY=

# Infura IPFS Configuration (https://infura.io/product/ipfs)
INFURA_IPFS_PROJECT_ID=
INFURA_IPFS_PROJECT_SECRET=

# ============================================================================
# Database Configuration
# ============================================================================
# SQLite (default)
DATABASE_TYPE=sqlite
DATABASE_PATH=./data/whispercache.db

# PostgreSQL (production)
# DATABASE_TYPE=postgres
# DATABASE_URL=postgresql://user:password@localhost:5432/whispercache

# ============================================================================
# ZK Proof Configuration
# ============================================================================
# Prover type: 'snarkjs' or 'simulation'
ZK_PROVER_TYPE=snarkjs

# Circuit paths (relative to server root)
ZK_CIRCUIT_WASM=../zk/circuits/memoryPattern/memoryPattern_js/memoryPattern.wasm
ZK_PROVING_KEY=../zk/circuits/memoryPattern/memoryPattern_final.zkey
ZK_VERIFICATION_KEY=../zk/circuits/memoryPattern/verification_key.json

# Proof queue settings
ZK_QUEUE_MAX_CONCURRENT=3
ZK_QUEUE_CACHE_TTL=300

# ============================================================================
# Agent Configuration
# ============================================================================
# Adapter type: 'mock', 'openai', 'anthropic', 'local'
AGENT_ADAPTER_TYPE=mock

# OpenAI Configuration (if using OpenAI)
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4
OPENAI_MAX_TOKENS=500

# Anthropic Configuration (if using Claude)
ANTHROPIC_API_KEY=
ANTHROPIC_MODEL=claude-3-sonnet-20240229

# ============================================================================
# Logging Configuration
# ============================================================================
# Log level: 'debug', 'info', 'warn', 'error'
LOG_LEVEL=info

# Service name for logs
SERVICE_NAME=whispercache

# ============================================================================
# Rate Limiting
# ============================================================================
# Requests per window
RATE_LIMIT_MAX_REQUESTS=100

# Window size in seconds
RATE_LIMIT_WINDOW_SECONDS=60

# ============================================================================
# Redis Configuration (optional - for distributed caching)
# ============================================================================
# REDIS_URL=redis://localhost:6379
# REDIS_PASSWORD=

# ============================================================================
# Monitoring (optional)
# ============================================================================
# SENTRY_DSN=
# PROMETHEUS_PORT=9090
